# ü§ñ –†–æ–∑–¥—ñ–ª 16. –û–±\'—î–∫—Ç–∏, —â–æ –æ—Ö–æ—Ä–æ–Ω—è—é—Ç—å—Å—è

```{note}
–¶–µ–π –®–Ü-–ø–µ—Ä–µ–∫–ª–∞–¥ —â–µ –Ω–µ –≤—ñ–¥—Ä–µ–¥–∞–≥–æ–≤–∞–Ω–æ.
```

–í–∏—Å–æ–∫–µ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—é –ø–æ—Ç–æ–∫—ñ–≤, —â–æ –≤–∏–º–∞–≥–∞–ª–æ—Å—è –≤
–ê–¥–∞-—Ä–∞–Ω–¥–µ–≤—É, –±—É–ª–æ –Ω–µ–ø—Ä–∏–π–Ω—è—Ç–Ω–∏–º –¥–ª—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó —Å–∏—Å—Ç–µ–º –∑ –≤–∏—Å–æ–∫–∏–º–∏
–≤–∏–º–æ–≥–∞–º–∏ –¥–æ —á–∞—Å—É –≤—ñ–¥–≥—É–∫—É. –ó —Ü—ñ—î—ó –ø—Ä–∏—á–∏–Ω–∏ –ê–¥–∞ 95 –º–∞—î –±—ñ–ª—å—à –µ—Ñ–µ–∫—Ç–∏–≤–Ω–∏–π
–º–µ—Ö–∞–Ω—ñ–∑–º —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó –∑–∞–≤–¥–∞–Ω—å, –∑–∞—Å–Ω–æ–≤–∞–Ω–∏–π –Ω–∞ —Å–ø—ñ–ª—å–Ω—ñ–π –ø–∞–º\'—è—Ç—ñ:
–∑–∞—Ö–∏—â–µ–Ω—ñ –æ–±\'—î–∫—Ç–∏ (Protected Objects). –ó–∞—Ö–∏—â–µ–Ω—ñ –ø—Ä–æ—Ü–µ–¥—É—Ä–∏ —Ç–∞ –∑–∞–ø–∏—Å–∏
–ø–æ–≤–∏–Ω–Ω—ñ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏—Å—è –∑ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è–º –Ω–∞ —á–∏—Ç–∞–Ω–Ω—è/–∑–∞–ø–∏—Å; –æ–¥–Ω–∞–∫, –æ—Å–∫—ñ–ª—å–∫–∏
–∑–∞—Ö–∏—â–µ–Ω–∏–º —Ñ—É–Ω–∫—Ü—ñ—è–º –Ω–µ –¥–æ–∑–≤–æ–ª—è—î—Ç—å—Å—è –≤–ø–ª–∏–≤–∞—Ç–∏ –Ω–∞ —Å—Ç–∞–Ω –∑–∞—Ö–∏—â–µ–Ω–æ–≥–æ
–æ–±\'—î–∫—Ç–∞, –≤–æ–Ω–∏ –º–æ–∂—É—Ç—å –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏—Å—è –∑ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è–º —Ç—ñ–ª—å–∫–∏ –Ω–∞ —á–∏—Ç–∞–Ω–Ω—è, —â–æ
–¥–æ–∑–≤–æ–ª—è—î –ø—Ä–æ–≥—Ä–∞–º—ñ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ –¥–µ–∫—ñ–ª—å–∫–∞ –≤–∏–∫–ª–∏–∫—ñ–≤ –∑–∞—Ö–∏—â–µ–Ω–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π
–ø–∞—Ä–∞–ª–µ–ª—å–Ω–æ.
>
–©–æ–± –≤–∏–∫–ª–∏–∫–∞—Ç–∏ –∑–∞—Ö–∏—â–µ–Ω–∏–π –æ–±\'—î–∫—Ç, –∑–∞–≤–¥–∞–Ω–Ω—è –ø—Ä–æ—Å—Ç–æ –Ω–∞–∑–∏–≤–∞—î –æ–±\'—î–∫—Ç —ñ
–ø–æ—Ç—Ä—ñ–±–Ω—É –ø—ñ–¥–ø—Ä–æ–≥—Ä–∞–º—É –∞–±–æ –∑–∞–ø–∏—Å. –Ø–∫ —ñ —É –≤–∏–ø–∞–¥–∫—É –∑ –≤–∏–∫–ª–∏–∫–∞–º–∏ –∑–∞–ø–∏—Å—ñ–≤
–∑–∞–≤–¥–∞–Ω—å, –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –º–æ–∂–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—é select –¥–ª—è –≤–∏–∫–ª–∏–∫—É
–∑–∞–ø–∏—Å—É *–∑–∞ —á–∞—Å–æ–º* –∞–±–æ *—É–º–æ–≤–Ω–æ–≥–æ* –≤–∏–∫–ª–∏–∫—É. –ó—Ä–æ–∑—É–º—ñ–ª–æ, —â–æ –Ω–∞ –ø–µ–≤–Ω–æ–º—É
–∑–∞—Ö–∏—â–µ–Ω–æ–º—É –∑–∞–ø–∏—Å—ñ –º–æ–∂–µ –±—É—Ç–∏ –ø–æ—Å—Ç–∞–≤–ª–µ–Ω–æ —É —á–µ—Ä–≥—É –±—ñ–ª—å—à–µ –Ω—ñ–∂ –æ–¥–Ω–µ
–∑–∞–≤–¥–∞–Ω–Ω—è. –Ø–∫ —ñ —É –≤–∏–ø–∞–¥–∫—É –∑ —á–µ—Ä–≥–∞–º–∏ –∑–∞–≤–¥–∞–Ω—å, –∑–∞—Ö–∏—â–µ–Ω–∏–π –∑–∞–ø–∏—Å –∑–∞
–∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º –≤–ø–æ—Ä—è–¥–∫–æ–≤—É—î—Ç—å—Å—è –∑–∞ –ø—Ä–∏–Ω—Ü–∏–ø–æ–º \"–ø–µ—Ä—à–∏–π –ø—Ä–∏–π—à–æ–≤ - –ø–µ—Ä—à–∏–π
–≤–∏–π—à–æ–≤\"; –æ–¥–Ω–∞–∫, —è–∫—â–æ –ø—ñ–¥—Ç—Ä–∏–º—É—î—Ç—å—Å—è –î–æ–¥–∞—Ç–æ–∫ —Å–∏—Å—Ç–µ–º —Ä–µ–∞–ª—å–Ω–æ–≥–æ —á–∞—Å—É,
–¥–æ–ø—É—Å–∫–∞—é—Ç—å—Å—è —ñ–Ω—à—ñ –¥–∏—Å—Ü–∏–ø–ª—ñ–Ω–∏ –≤–ø–æ—Ä—è–¥–∫—É–≤–∞–Ω–Ω—è —á–µ—Ä–≥–∏. –ö–æ–ª–∏ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è
–≤–∏–∫–ª–∏–∫ –∑–∞—Ö–∏—â–µ–Ω–æ—ó –ø—Ä–æ—Ü–µ–¥—É—Ä–∏ –∞–±–æ –∑–∞—Ö–∏—â–µ–Ω–æ–≥–æ –∑–∞–ø–∏—Å—É, –æ—Ü—ñ–Ω—é—î—Ç—å—Å—è –±–∞—Ä\'—î—Ä;
—è–∫—â–æ –±–∞—Ä\'—î—Ä –∑–∞–∫—Ä–∏—Ç–æ (–æ—Ü—ñ–Ω—é—î—Ç—å—Å—è —è–∫ False), –≤–∏–∫–ª–∏–∫ —Å—Ç–∞–≤–∏—Ç—å—Å—è —É —á–µ—Ä–≥—É.
–ë—É–¥—å-—è–∫–µ –≤–∏–∫–ª—é—á–µ–Ω–Ω—è, –∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–µ –ø—ñ–¥ —á–∞—Å –æ–±—á–∏—Å–ª–µ–Ω–Ω—è –±–∞—Ä\'—î—Ä—É,
–ø—Ä–∏–∑–≤–æ–¥–∏—Ç—å –¥–æ –≤–∏–Ω–∏–∫–Ω–µ–Ω–Ω—è *–ø—Ä–æ–≥—Ä–∞–º–Ω–æ—ó –ø–æ–º–∏–ª–∫–∏* —É –≤—Å—ñ—Ö –∑–∞–¥–∞—á–∞—Ö, —â–æ
–æ—á—ñ–∫—É—é—Ç—å —É —á–µ—Ä–≥–∞—Ö –≤—Ö–æ–¥—ñ–≤, –ø–æ–≤\'—è–∑–∞–Ω–∏—Ö —ñ–∑ –∑–∞—Ö–∏—â–µ–Ω–∏–º –æ–±\'—î–∫—Ç–æ–º, —è–∫–∏–π
–º—ñ—Å—Ç–∏—Ç—å –±–∞—Ä\'—î—Ä \[BW98, –ì–ª–∞–≤–∞ 7.8\]).
>
–ö–æ–ª–∏ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∑–∞—Ö–∏—â–µ–Ω–æ—ó –ø—Ä–æ—Ü–µ–¥—É—Ä–∏ –∞–±–æ –∑–∞–ø–∏—Å—É –∑–∞–≤–µ—Ä—à—É—î—Ç—å—Å—è, –≤—Å—ñ
–±–∞—Ä\'—î—Ä–∏ –ø–µ—Ä–µ–æ—Ü—ñ–Ω—é—é—Ç—å—Å—è —ñ, –º–æ–∂–ª–∏–≤–æ, –≤–∏–∫–æ–Ω—É—é—Ç—å—Å—è —Ç—ñ–ª–∞ –∑–∞–ø–∏—Å—ñ–≤. –ü—ñ—Å–ª—è
–≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Ç—ñ–ª–∞ –æ–¥–Ω—ñ—î—ó –∑–∞—Ö–∏—â–µ–Ω–æ—ó –ø—Ä–æ—Ü–µ–¥—É—Ä–∏ –∞–±–æ –≤—Ö–æ–¥—É –ø–µ—Ä–µ–æ—Ü—ñ–Ω—é—é—Ç—å—Å—è –≤—Å—ñ
–±–∞—Ä\'—î—Ä–∏ PO, —è–∫—ñ —Å—Ç–æ—è—Ç—å —É —á–µ—Ä–∑—ñ –Ω–∞ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∑–∞–≤–¥–∞–Ω—å. –Ø–∫—â–æ —è–∫–∏–π—Å—å
–∑–∞–ø–∏—Å —Ç–µ–ø–µ—Ä –≤—ñ–¥–∫—Ä–∏—Ç–∏–π, –≤–∏–∫–ª–∏–∫ –∑–∞–ø–∏—Å—É –ø—Ä–∏–π–º–∞—î—Ç—å—Å—è —ñ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è
–≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–µ —Ç—ñ–ª–æ –∑–∞–ø–∏—Å—É. –¶–µ–π –ø—Ä–æ—Ü–µ—Å –ø–æ–≤—Ç–æ—Ä—é—î—Ç—å—Å—è –¥–æ —Ç–∏—Ö –ø—ñ—Ä, –ø–æ–∫–∏ –Ω–µ
–∑–∞–ª–∏—à–∏—Ç—å—Å—è –∂–æ–¥–Ω–æ–≥–æ –≤—ñ–¥–∫—Ä–∏—Ç–æ–≥–æ –±–∞—Ä\'—î—Ä—É –∑ –∑–∞–≤–¥–∞–Ω–Ω—è–º–∏, —â–æ —Å—Ç–æ—è—Ç—å —É
—á–µ—Ä–∑—ñ. –Ø–∫—â–æ –ø—ñ—Å–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –≤–∏–∫–ª–∏–∫—É –≤—Ö–æ–¥—É –≤—ñ–¥–∫—Ä–∏—Ç–æ –¥–µ–∫—ñ–ª—å–∫–∞
—à–ª–∞–≥–±–∞—É–º—ñ–≤, —Ç–æ —Ç—ñ–ª–æ –≤–∏–∫–ª–∏–∫—É –≤—Ö–æ–¥—É –ø—Ä–∏–π–º–∞—î—Ç—å—Å—è —ñ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è.
>
–ê–¥–∞ –Ω–µ –≤–∫–∞–∑—É—î, —è–∫–∏–π —Å–∞–º–µ –∑–∞–ø–∏—Å –ø—ñ—Å–ª—è —Ü—å–æ–≥–æ –æ–±—Å–ª—É–≥–æ–≤—É—î—Ç—å—Å—è.
>
–†–æ–∑–¥—ñ–ª 11 –Ω–µ –ª–∏—à–µ –æ–±–≥–æ–≤–æ—Ä—é—î —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è –∑–∞—Ö–∏—â–µ–Ω–æ–≥–æ —Ç–∏–ø—É, –±–∞—Ä\'—î—Ä—ñ–≤ —Ç–∞
–∑–∞—Ö–∏—â–µ–Ω–∏—Ö –ø—ñ–¥–ø—Ä–æ–≥—Ä–∞–º, –∞–ª–µ –π –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—î –¥–≤—ñ –æ—Å–Ω–æ–≤–Ω—ñ –º–æ–¥–µ–ª—ñ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó
–∑–∞—Ö–∏—â–µ–Ω–∏—Ö –æ–±\'—î–∫—Ç—ñ–≤, —Å–∞–º–æ–æ–±—Å–ª—É–≥–æ–≤—É–≤–∞–Ω–Ω—è —Ç–∞ –ø—Ä–æ–∫—Å—ñ, –∞ —Ç–∞–∫–æ–∂
–∑–∞–ø—Ä–æ–ø–æ–Ω–æ–≤–∞–Ω—ñ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó (–¥–∏–≤. –†–æ–∑–¥—ñ–ª 11.1). –Ø–∫ –æ–±–≥–æ–≤–æ—Ä—é—î—Ç—å—Å—è —Ç–∞–º,
GNAT –¥–æ—Ç—Ä–∏–º—É—î—Ç—å—Å—è –º–æ–¥–µ–ª—ñ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó –ø—Ä–æ–∫—Å—ñ-—Å–µ—Ä–≤—ñ—Å—É –∑–∞ –ø—Ä–∏–Ω—Ü–∏–ø–æ–º
–∑–≤–æ—Ä–æ—Ç–Ω–æ–≥–æ –≤–∏–∫–ª–∏–∫—É (call-back). –û–¥–Ω—ñ—î—é –∑ –≥–æ–ª–æ–≤–Ω–∏—Ö –ø—Ä–∏—á–∏–Ω (–∑ —Ç–æ—á–∫–∏ –∑–æ—Ä—É
—á–∞—Å—É –≤–∏–∫–æ–Ω–∞–Ω–Ω—è) —î —Ç–µ, —â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Pthreads –¥–ª—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó –º–æ–¥–µ–ª—ñ
—Å–∞–º–æ–æ–±—Å–ª—É–≥–æ–≤—É–≤–∞–Ω–Ω—è —Å—Ç–≤–æ—Ä—é—î –æ–¥–Ω—É –≤–∞–∂–ª–∏–≤—É –ø—Ä–æ–±–ª–µ–º—É: –∑–∞–¥–∞—á–∞, —è–∫–∞
–Ω–∞–º–∞–≥–∞—î—Ç—å—Å—è –≤–∏–π—Ç–∏ –∑ —è—î—á–Ω–æ—ó —à–∫–∞—Ä–∞–ª—É–ø–∏, –ø–æ–≤–∏–Ω–Ω–∞ –º–∞—Ç–∏ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –ø–µ—Ä–µ–¥–∞—Ç–∏
–ø—Ä–∞–≤–æ –≤–ª–∞—Å–Ω–æ—Å—Ç—ñ –Ω–∞ –Ω–µ—ó –∑–∞–¥–∞—á—ñ, —è–∫–∞ –æ—á—ñ–∫—É—î –Ω–∞ –≤—Ö—ñ–¥ *Open*. –û–¥–Ω–∞–∫, –Ω–µ
—ñ—Å–Ω—É—î —Ö–æ—Ä–æ—à–æ–≥–æ —Å–ø–æ—Å–æ–±—É –≤–∏—Ä—ñ—à–∏—Ç–∏ —Ü—é –ø—Ä–æ–±–ª–µ–º—É –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é Pthreads,
–æ—Å–∫—ñ–ª—å–∫–∏, —Ö–æ—á–∞ –º–æ–∂–Ω–∞ –∑–º—É—Å–∏—Ç–∏ –ø–æ—Ç—ñ–∫ –æ—Ç—Ä–∏–º–∞—Ç–∏ –º\'—é—Ç–µ–∫—Å, –ø—ñ–¥–≤–∏—â–∏–≤—à–∏ –π–æ–≥–æ
–ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç –Ω–∞–¥ –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç–∞–º–∏ —ñ–Ω—à–∏—Ö –ø—Ä–µ—Ç–µ–Ω–¥–µ–Ω—Ç—ñ–≤, —Ü–µ –º–æ–∂–µ –ø—Ä–∏–∑–≤–µ—Å—Ç–∏ –¥–æ
–Ω–µ–ø–æ—Ç—Ä—ñ–±–Ω–∏—Ö –ø–µ—Ä–µ–º–∏–∫–∞–Ω—å –∫–æ–Ω—Ç–µ–∫—Å—Ç—É —ñ –ø–æ–≥—ñ—Ä—à–∏—Ç—å —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—é –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç—É Ada
–Ω–∞–¥ Pthreads.

## –ó–∞–º–æ–∫.

–ó–≥—ñ–¥–Ω–æ –∑ —Å–µ–º–∞–Ω—Ç–∏–∫–æ—é Ada, –≤–∏–∫–ª–∏–∫ –≤—Ö–æ–¥—É –≤ —á–µ—Ä–≥—É –º–∞—î –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç –Ω–∞–¥ —ñ–Ω—à–∏–º–∏
–æ–ø–µ—Ä–∞—Ü—ñ—è–º–∏ –Ω–∞–¥ –∑–∞—Ö–∏—â–µ–Ω–∏–º –æ–±\'—î–∫—Ç–æ–º. –¶–µ —á–∞—Å—Ç–æ –ø–æ—è—Å–Ω—é—î—Ç—å—Å—è –≤ —Ç–µ—Ä–º—ñ–Ω–∞—Ö
*–º–æ–¥–µ–ª—ñ —è—î—á–Ω–æ—ó —à–∫–∞—Ä–∞–ª—É–ø–∏*. –ó–∞–º–æ–∫ –Ω–∞ –∑–∞—Ö–∏—â–µ–Ω–æ–º—É –æ–±\'—î–∫—Ç—ñ - —Ü–µ —è—î—á–Ω–∞
—à–∫–∞—Ä–∞–ª—É–ø–∞. –ù–∞ —Ä–∏—Å—É–Ω–∫—É 16.1 –∑–æ–±—Ä–∞–∂–µ–Ω–æ –≥—Ä–∞—Ñ—ñ—á–Ω–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—è –∑–∞—Ö–∏—â–µ–Ω–∏—Ö
–æ–±\'—î–∫—Ç—ñ–≤. –ù–∏—Ç–∫–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ñ –∑–∞—Ç—ñ–Ω–µ–Ω–∏–º–∏ –∫–æ–ª–∞–º–∏; –¥–≤–∞ —Ä—ñ–≤–Ω—ñ –∑–∞—Ö–∏—â–µ–Ω–∏—Ö
–æ–±\'—î–∫—Ç—ñ–≤ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ñ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –≤–µ–ª–∏–∫–æ–≥–æ –∫–æ–ª–∞ (–ø–æ–≤\'—è–∑–∞–Ω–æ–≥–æ –∑
–±–ª–æ–∫—É–≤–∞–Ω–Ω—è–º –æ–±\'—î–∫—Ç–∞) —ñ –≤–µ–ª–∏–∫–æ–≥–æ –ø—Ä—è–º–æ–∫—É—Ç–Ω–∏–∫–∞ (–ø–æ–≤\'—è–∑–∞–Ω–æ–≥–æ –∑—ñ —Å—Ç–∞–Ω–æ–º
–æ–±\'—î–∫—Ç–∞ —ñ –æ–ø–µ—Ä–∞—Ü—ñ—è–º–∏); –º–∞–ª–µ–Ω—å–∫—ñ –ø—Ä—è–º–æ–∫—É—Ç–Ω–∏–∫–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç—å –∑–∞—Ö–∏—â–µ–Ω—ñ
–æ–ø–µ—Ä–∞—Ü—ñ—ó: —á–æ—Ä–Ω—ñ –ø—Ä—è–º–æ–∫—É—Ç–Ω–∏–∫–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç—å –∑–∞–∫—Ä–∏—Ç—ñ –∑–∞–ø–∏—Å–∏, –∞ –±—ñ–ª—ñ
–ø—Ä—è–º–æ–∫—É—Ç–Ω–∏–∫–∏ - –≤—ñ–¥–∫—Ä–∏—Ç—ñ –∑–∞–ø–∏—Å–∏. –í—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ, —É —Ü—å–æ–º—É –ø—Ä–∏–∫–ª–∞–¥—ñ
–ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–æ –æ–¥–∏–Ω –ø–æ—Ç—ñ–∫, —â–æ –≤–∏–∫–æ–Ω—É—î –∑–∞—Ö–∏—â–µ–Ω—É –æ–ø–µ—Ä–∞—Ü—ñ—é (–≤—ñ–Ω –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è
–≤—Å–µ—Ä–µ–¥–∏–Ω—ñ PO), –¥–≤–∞ –ø–æ—Ç–æ–∫–∏, —â–æ —Å—Ç–æ—è—Ç—å —É —á–µ—Ä–∑—ñ –≤ –∑–∞–∫—Ä–∏—Ç–æ–º—É –∑–∞–ø–∏—Å—ñ, –æ–¥–∏–Ω
–ø–æ—Ç—ñ–∫, —â–æ —Å—Ç–æ—ó—Ç—å —É —á–µ—Ä–∑—ñ –≤ –∑–∞–ø–∏—Å—ñ, —è–∫–∏–π –∑–∞—Ä–∞–∑ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –∑–∞ –ø—Ä–∏–Ω—Ü–∏–ø–æ–º
–≤–∑–∞—î–º–æ–≤–∏–∫–ª—é—á–µ–Ω–Ω—è, —ñ –∫—ñ–ª—å–∫–∞ –¥–æ–¥–∞—Ç–∫–æ–≤–∏—Ö –ø–æ—Ç–æ–∫—ñ–≤, —è–∫—ñ –Ω–µ —Å—Ç–æ—è—Ç—å —É —á–µ—Ä–∑—ñ.

## –ü—ñ–¥–ø—Ä–æ–≥—Ä–∞–º–∏ —á–∞—Å—É –≤–∏–∫–æ–Ω–∞–Ω–Ω—è

### –í–∏–∫–ª–∏–∫ GNARL.Protected Entry

–ü—Ä–æ—Å—Ç–∏–π –≤–∏–∫–ª–∏–∫ –∑–∞—Ö–∏—â–µ–Ω–æ–≥–æ –∑–∞–ø–∏—Å—É —Ä–æ–∑—à–∏—Ä—é—î—Ç—å—Å—è —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º —É –≤–∏–∫–ª–∏–∫
–ø—ñ–¥–ø—Ä–æ–≥—Ä–∞–º–∏ GNARL *Protected Entry Call*. –í–∏–∫–ª–∏–∫ –∑–∞–ø–∏—Å—É –æ–±—Ä–æ–±–ª—è—î—Ç—å—Å—è
–∫–æ–º–∞–Ω–¥–æ—é run-

![–ó–∞—Ö–∏—â–µ–Ω–∏–π –æ–±'—î–∫—Ç](f16_1.png)

–†–∏—Å—É–Ω–æ–∫ 16.1: –ì—Ä–∞—Ñ—ñ—á–Ω–µ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è –æ–±'—î–∫—Ç–∞, —â–æ –æ—Ö–æ—Ä–æ–Ω—è—î—Ç—å—Å—è.

—á–∞—Å, –ø–æ–¥—ñ–±–Ω–æ –¥–æ –≤–∏–∫–ª–∏–∫—ñ–≤ –≤–≤–µ–¥–µ–Ω–Ω—è –∑–∞–≤–¥–∞–Ω—å (–¥–∏–≤. —Ä–æ–∑–¥—ñ–ª 15.5.4). –¶–µ
–ø–æ–ª–µ–≥—à—É—î —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—é –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ –∑–∞–ø–∏—Ç—É –≤ –º–æ–≤—ñ –ê–¥–∞. –í—Å—è –ø–æ—Å–ª—ñ–¥–æ–≤–Ω—ñ—Å—Ç—å –¥—ñ–π
—É –Ω—å–æ–º—É –Ω–∞—Å—Ç—É–ø–Ω–∞:

1.  –í—ñ–¥–∫–ª–∞–¥—ñ—Ç—å –∞–±–æ—Ä—Ç.

2.  –ù–∞–ø–∏—à—ñ—Ç—å –∑–∞–±–ª–æ–∫—É–≤–∞—Ç–∏ –æ–±\'—î–∫—Ç.

3.  –†–æ–∑—Ä–æ–±—ñ—Ç—å –Ω–æ–≤–∏–π *–∑–∞–ø–∏—Å –≤—Ö—ñ–¥–Ω–æ–≥–æ –¥–∑–≤—ñ–Ω–∫–∞*.

4.  –í–∏–∫–ª–∏—á—Ç–µ GNARL-–ø—Ä–æ—Ü–µ–¥—É—Ä—É *PO –∞–±–æ Queue*, —â–æ–± –∑–¥—ñ–π—Å–Ω–∏—Ç–∏ –≤–∏–∫–ª–∏–∫ –∞–±–æ
    –ø–æ—Å—Ç–∞–≤–∏—Ç–∏ –π–æ–≥–æ —É –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—É —á–µ—Ä–≥—É –∑–∞–ø–∏—Å—ñ–≤.

5.  –í–∏–∫–ª–∏–∫ –ø—Ä–æ—Ü–µ–¥—É—Ä–∏ GNARL *PO Service Entries* –¥–ª—è –æ–±—Å–ª—É–≥–æ–≤—É–≤–∞–Ω–Ω—è
    –≤—ñ–¥–∫—Ä–∏—Ç–∏—Ö –∑–∞–ø–∏—Å—ñ–≤.

6.  –†–æ–∑–±–ª–æ–∫—É–≤–∞—Ç–∏ –æ–±\'—î–∫—Ç.

7.  –í—ñ–¥–∫–ª–∞–¥—ñ—Ç—å –∞–±–æ—Ä—Ç.

8.  –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø–æ–≤—Ç–æ—Ä–Ω–æ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ —è–∫–µ—Å—å –≤–∏–∫–ª—é—á–µ–Ω–Ω—è.

–£ –≤–∏–ø–∞–¥–∫—É —É–º–æ–≤–Ω–æ–≥–æ —Ç–∞ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–æ–≤–∞–Ω–æ–≥–æ –≤–∏–∫–ª–∏–∫—É –∑–∞–ø–∏—Å—ñ–≤, –¥—ñ—ó, —â–æ
–≤–∏–∫–æ–Ω—É—é—Ç—å—Å—è –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è GNAT, –≤ –æ—Å–Ω–æ–≤–Ω–æ–º—É —î –ø–æ—Å–ª—ñ–¥–æ–≤–Ω—ñ—Å—Ç—é,
–ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–æ—é –≤–∏—â–µ. –û–¥–Ω–∞–∫, —è–∫—â–æ –±–∞—Ä\'—î—Ä –∑–∞–∫—Ä–∏—Ç–æ, –∑–∞–ø–∏—Å –ø—Ä–æ –≤–∏–∫–ª–∏–∫
–µ–ª–µ–º–µ–Ω—Ç–∞ –Ω–µ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è, —ñ –≤–∏–∫–æ–Ω–∞–≤—á–∞ —Å–∏—Å—Ç–µ–º–∞ –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î —ñ–Ω–¥–µ–∫—Å
–æ–±—Ä–∞–Ω–æ–≥–æ –µ–ª–µ–º–µ–Ω—Ç–∞ —É 0. –¶–µ –∑–Ω–∞—á–µ–Ω–Ω—è –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è —Ä–æ–∑—à–∏—Ä–µ–Ω–∏–º –∫–æ–¥–æ–º
–¥–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è *else-—á–∞—Å—Ç–∏–Ω–∏* —É–º–æ–≤–Ω–æ–≥–æ –≤–∏–∫–ª–∏–∫—É –∑–∞–ø–∏—Å—É.

### GNARL.PO –†–æ–±–∏—Ç–∏ –∞–±–æ —Å—Ç–æ—è—Ç–∏ –≤ —á–µ—Ä–∑—ñ

–ü–æ—Å–ª—ñ–¥–æ–≤–Ω—ñ—Å—Ç—å –¥—ñ–π, —è–∫—ñ –≤–∏–∫–æ–Ω—É—î *PO Do Or Queue*, –Ω–∞—Å—Ç—É–ø–Ω–∞:

1.  –í–∏–∫–ª–∏–∫–∞—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ—é –±–∞—Ä\'—î—Ä—É.

2.  –Ø–∫—â–æ —à–ª–∞–≥–±–∞—É–º –∑–∞–∫—Ä–∏—Ç–æ, –∑–∞–ø–∏—Ç–∞–π—Ç–µ *–∑–∞–ø–∏—Å –≤–∏–∫–ª–∏–∫—É –Ω–∞ –≤\'—ó–∑–¥* —ñ
–ø–æ–≤–µ—Ä–Ω—ñ—Ç—å—Å—è –Ω–∞–∑–∞–¥.

3.  –Ø–∫—â–æ —à–ª–∞–≥–±–∞—É–º –≤—ñ–¥–∫—Ä–∏—Ç–∏–π, –≤–∏–∫–æ–Ω–∞–π—Ç–µ –∫—Ä–æ–∫–∏ –∑ 2 –ø–æ 9 –ø—Ä–æ—Ü–µ–¥—É—Ä–∏ GNARL

*–°–ª—É–∂–±–æ–≤—ñ –∑–∞–ø–∏—Å–∏*.

### –ó–∞–ø–∏—Å–∏ GNARL.Service

–ü—Ä–æ–≥—Ä–∞–º–∞ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –ø–æ–≤–∏–Ω–Ω–∞ –æ–±—á–∏—Å–ª—é–≤–∞—Ç–∏ –±–∞—Ä\'—î—Ä–∏ –≤—Ö–æ–¥—É –ø—ñ—Å–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è
–∑–∞—Ö–∏—â–µ–Ω–æ—ó –ø—Ä–æ—Ü–µ–¥—É—Ä–∏ –∞–±–æ –≤—Ö–æ–¥—É, –ø–æ —Å—É—Ç—ñ, —Ä–æ–∑–≥–ª—è–¥–∞—é—á–∏ –≤–∏—Ä–∞–∑ –±–∞—Ä\'—î—Ä—É
—Ç–∞–∫, –Ω—ñ–±–∏ –≤—ñ–Ω –∑–∞–ª–µ–∂–∏—Ç—å —Ç—ñ–ª—å–∫–∏ –≤—ñ–¥ —Å—Ç–∞–Ω—É –∑–∞—Ö–∏—â–µ–Ω–æ–≥–æ –æ–±\'—î–∫—Ç–∞. –£ –º–æ–¥–µ–ª—ñ
—Å–∞–º–æ–æ–±—Å–ª—É–≥–æ–≤—É–≤–∞–Ω–Ω—è –ø–æ—Ç—ñ–∫ –º–æ–∂–µ –ø–æ–∫–∏–Ω—É—Ç–∏ —à–∫–∞—Ä–∞–ª—É–ø—É –ª–∏—à–µ —Ç–æ–¥—ñ, –∫–æ–ª–∏
–±–∞—Ä\'—î—Ä–∏ –≤—Å—ñ—Ö –≤—Ö–æ–¥—ñ–≤, —â–æ —Å—Ç–æ—è—Ç—å —É —á–µ—Ä–∑—ñ –Ω–∞ –≤–∏–∫–ª–∏–∫, –¥–æ—Ä—ñ–≤–Ω—é—é—Ç—å *False*.
–¶–µ –≥–∞—Ä–∞–Ω—Ç—É—î, —â–æ –≤—Å—ñ –≤–∏–∫–ª–∏–∫–∏ –≤—Ö–æ–¥—ñ–≤, —è–∫—ñ —Å—Ç–∞–ª–∏ –¥–æ–ø—É—Å—Ç–∏–º–∏–º–∏ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ
–∑–º—ñ–Ω–∏ —Å—Ç–∞–Ω—É, –±—É–¥—É—Ç—å –≤–∏–∫–æ–Ω–∞–Ω—ñ –¥–æ —Ç–æ–≥–æ, —è–∫ –±—É–¥—É—Ç—å —ñ–Ω—ñ—Ü—ñ–π–æ–≤–∞–Ω—ñ –±—É–¥—å-—è–∫—ñ
–ø–æ–¥–∞–ª—å—à—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó. –î–ª—è —Ü—å–æ–≥–æ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ä–æ–∑—à–∏—Ä—é—î –≤—Ö—ñ–¥–Ω—ñ –±–∞—Ä\'—î—Ä–∏ —Ç–∞
—Ç—ñ–ª–∞ —É —Ñ—É–Ω–∫—Ü—ñ—ó —Ç–∞ –ø—Ä–æ—Ü–µ–¥—É—Ä–∏ —ñ –≥–µ–Ω–µ—Ä—É—î —Ç–∞–±–ª–∏—Ü—é, —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω—É —ó—Ö–Ω—ñ–º–∏
–∞–¥—Ä–µ—Å–∞–º–∏. –í–∏–∫–æ–Ω–∞–Ω–Ω—è –æ—Ç—Ä–∏–º—É—î —Ü—é —Ç–∞–±–ª–∏—Ü—é —ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –≤–∫–∞–∑—ñ–≤–Ω–∏–∫–∏ –¥–ª—è
–≤–∏–∫–ª–∏–∫—É —Ñ—É–Ω–∫—Ü—ñ–π, —è–∫—ñ –æ–±—á–∏—Å–ª—é—é—Ç—å –≤—Ö—ñ–¥–Ω—ñ –±–∞—Ä\'—î—Ä–∏, –∞ —Ç–∞–∫–æ–∂ –¥–ª—è –≤–∏–∫–ª–∏–∫—É
–≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ–≥–æ —Ç—ñ–ª–∞, –∫–æ–ª–∏ –±–∞—Ä\'—î—Ä –≤—ñ–¥–∫—Ä–∏—Ç–æ.
>
–û—Å–Ω–æ–≤–Ω–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º –ø—Ä–æ—Ü–µ–¥—É—Ä–∏ *–≤–Ω–µ—Å–µ–Ω–Ω—è —Å–ª—É–∂–±–æ–≤–∏—Ö –∑–∞–ø–∏—Å—ñ–≤* –¥–æ GNARL
–ø–æ–ª—è–≥–∞—î –≤ –Ω–∞—Å—Ç—É–ø–Ω–æ–º—É:
>
–†—è–¥–æ–∫ 1 –æ—Ü—ñ–Ω—é—î—Ç—å—Å—è –ø—Ä–æ—Ü–µ–¥—É—Ä–æ—é GNARL *Select Protected Entry Call*, —è–∫–∞
–æ–±—Ö–æ–¥–∏—Ç—å —É—Å—ñ —á–µ—Ä–≥–∏ –≤—Ö–æ–¥—ñ–≤ —ñ –ø–µ—Ä–µ–æ—Ü—ñ–Ω—é—î –±–∞—Ä\'—î—Ä–∏ —Ç–∏—Ö –≤—Ö–æ–¥—ñ–≤, —â–æ —Å—Ç–æ—è—Ç—å
—É —á–µ—Ä–∑—ñ –Ω–∞ –≤—Ö—ñ–¥. –Ø–∫ —Ç—ñ–ª—å–∫–∏ —è–∫–∏–π—Å—å –±–∞—Ä\'—î—Ä –≤—ñ–¥–∫—Ä–∏—Ç–æ (–≤—ñ–Ω –Ω–∞–±—É–≤–∞—î
–∑–Ω–∞—á–µ–Ω–Ω—è true), GNARL –æ–±–∏—Ä–∞—î –π–æ–≥–æ –¥–ª—è –æ–±—Å–ª—É–≥–æ–≤—É–≤–∞–Ω–Ω—è. –£ —Ä—è–¥–∫—É 2 –ø–æ–ª–µ
*Call In Progress –æ–±\'—î–∫—Ç–∞* (–¥–∏–≤. –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è —Ç–∏–ø—É *–æ–±\'—î–∫—Ç—ñ–≤ –∑–∞—Ö–∏—Å—Ç—É*)
–≤—Å—Ç–∞–Ω–æ–≤–ª—é—î—Ç—å—Å—è —É –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ—Å—Ç—å –¥–æ –≤–∏–±—Ä–∞–Ω–æ–≥–æ –∑–∞–ø–∏—Å—É –≤–∏–∫–ª–∏–∫—É –≤—Ö–æ–¥—É, —â–æ–±
–∑–∞–ø–∞–º\'—è—Ç–∞—Ç–∏, —â–æ —Ü–µ –≤–∏–∫–ª–∏–∫ –≤—Ö–æ–¥—É, —è–∫–∏–π –æ–±—Å–ª—É–≥–æ–≤—É—î—Ç—å—Å—è. –†—è–¥–∫–∏ –∑ 3 –ø–æ 7
–≤—ñ–¥–∫—Ä–∏–≤–∞—é—Ç—å –Ω–æ–≤—É –æ–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç—ñ –¥–ª—è –≤–∏–∫–ª–∏–∫—É —Ç—ñ–ª–∞ –∑–∞–ø–∏—Å—É —ñ –æ–±—Ä–æ–±–∫–∏
–≤–∏–Ω—è—Ç–∫—ñ–≤ —É –∫–æ–¥—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞. –£ —Ü—å–æ–º—É –≤–∏–ø–∞–¥–∫—É –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ –≤–∏–∑–Ω–∞—á–µ–Ω–∏–π
–≤–∏–Ω—è—Ç–æ–∫ *Program Error* –±—É–¥–µ —Ç—Ä–∞–Ω—Å–ª—é–≤–∞—Ç–∏—Å—è –≤—Å—ñ–º –∑–∞–≤–¥–∞–Ω–Ω—è–º, —â–æ —Å—Ç–æ—è—Ç—å —É
—á–µ—Ä–∑—ñ —É –±—É–¥—å-—è–∫–æ–º—É –∑–∞–ø–∏—Å—ñ –∑–∞—Ö–∏—â–µ–Ω–æ–≥–æ –æ–±\'—î–∫—Ç–∞. –£ —Ä—è–¥–∫—É 8
–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –ø–æ—Å–∏–ª–∞–Ω–Ω—è
>
–Ω–∞ –≤—Ö—ñ–¥–Ω–∏–π –≤–∏–∫–ª–∏–∫ –∑–Ω—ñ–º–∞—î—Ç—å—Å—è (—Ü–µ–π –≤—Ö—ñ–¥–Ω–∏–π –≤–∏–∫–ª–∏–∫ –±—É–ª–æ –ø—Ä–∏–π–Ω—è—Ç–æ), –∞
–≤–∏–∫–ª–∏–∫ –Ω–∞ –≤—Ö—ñ–¥ –∑–∞–≤–¥–∞–Ω–Ω—è –ø—Ä–æ–±—É–¥–∂—É—î—Ç—å—Å—è (—Ä—è–¥–æ–∫ 9). –ü—ñ—Å–ª—è —Ü—ñ—î—ó —Ä–æ–±–æ—Ç–∏
—Ü–∏–∫–ª –∑–Ω–æ–≤—É –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è —ñ –±–∞—Ä\'—î—Ä–∏ –≤—Ö–æ–¥—É –ø–µ—Ä–µ–æ—Ü—ñ–Ω—é—é—Ç—å—Å—è. –¶–µ–π –ø—Ä–æ—Ü–µ—Å
–∑—É–ø–∏–Ω—è—î—Ç—å—Å—è, –∫–æ–ª–∏ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ –∂–æ–¥–Ω–æ–≥–æ –≤—ñ–¥–∫—Ä–∏—Ç–æ–≥–æ –±–∞—Ä\'—î—Ä—É –¥–ª—è –≤—Ö–æ–¥—É —ñ–∑
–∑–∞–≤–¥–∞–Ω–Ω—è–º–∏, —â–æ —Å—Ç–æ—è—Ç—å —É —á–µ—Ä–∑—ñ.

## –ü—ñ–¥—Å—É–º–æ–∫

–£ —Ü—ñ–π –≥–ª–∞–≤—ñ –º–∏ –∫–æ—Ä–æ—Ç–∫–æ –æ–ø–∏—Å–∞–ª–∏ –ø–æ—Å–ª—ñ–¥–æ–≤–Ω—ñ—Å—Ç—å –¥—ñ–π, —â–æ –≤–∏–∫–æ–Ω—É—é—Ç—å—Å—è
–ø—ñ–¥–ø—Ä–æ–≥—Ä–∞–º–∞–º–∏ —á–∞—Å—É –≤–∏–∫–æ–Ω–∞–Ω–Ω—è, —è–∫—ñ –Ω–∞–¥–∞—é—Ç—å –ø—ñ–¥—Ç—Ä–∏–º–∫—É –∑–∞—Ö–∏—â–µ–Ω–∏–º
–ø—ñ–¥–ø—Ä–æ–≥—Ä–∞–º–∞–º.

